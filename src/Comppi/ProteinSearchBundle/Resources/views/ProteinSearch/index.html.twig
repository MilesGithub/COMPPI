{# src/Comppi/ProteinSearchBundle/Resources/views/index.html.twig #}
{% extends '::base.html.twig' %}

{% block title %}ComPPI - Search Protein Interactions - The Compartmentalized Protein-Protein Interaction Database{% endblock %}

{% block bundlecontent %}
	<p class="help"></p>
	
	{% if verbose_log %}<p><pre>{{ verbose_log }}</pre></p>{% endif %}
	
	<form id="ProteinSearchForm" action="" method="post">
		<label for="fProtSearchKeyword">Protein Name:</label>
		<input type="text" name="fProtSearchKeyword" id="fProtSearchKeyword" value="{{ keyword }}" />
		<br />
		
		<label>Species:</label>
		<input type="radio" name="fProtSearchHs" id="fProtSearchHs" class="btn" value="{{ need.hs }}" {% if need.hs %}checked="checked"{% endif %}/><label for="fProtSearchHs" class="radioButtonLabel">H. sapiens</label>
		<input type="radio" name="fProtSearchDm" id="fProtSearchDm" class="btn" value="{{ need.dm }}" {% if need.dm %}checked="checked"{% endif %}/><label for="fProtSearchDm" class="radioButtonLabel">D. melanogaster</label>
		<input type="radio" name="fProtSearchCe" id="fProtSearchCe" class="btn" value="{{ need.ce }}" {% if need.ce %}checked="checked"{% endif %}/><label for="fProtSearchCe" class="radioButtonLabel">C. elegans</label>
		<input type="radio" name="fProtSearchSc" id="fProtSearchSc" class="btn" value="{{ need.sc }}" {% if need.sc %}checked="checked"{% endif %}/><label for="fProtSearchSc" class="radioButtonLabel">S. cerevisiae</label>

		<br />
		
		<input class="btn btn_submit" type="submit" value="Submit Search" />
	</form>
	
	{% if result_msg %}
		<p id="protSearchResultMsg">{{ result_msg }}</p>
	{% endif %}
	
	{% if ls %}
	<table id="ProteinSearchResultsTbl" class="hovered_list">
		<tr class="not_hovered_line"><th>Src A</th><th>Localization A</th><th>Protein A</th><th class="protSearchMidLine">Protein B</th><th>Localization B</th><th>Src B</th></tr>
		{% for p in ls %}
		<tr><td>{% if p.locASrcUrl %}<a href="{{ p.locASrcUrl }}" target="_blank" class="btn btn_src">src</a>{% endif %}</td><td>{{ p.locA }}</td><td>{{ p.protA }}</td><td class="protSearchMidLine">{{ p.protB }}</td><td>{{ p.locB }}</td><td>{% if p.locBSrcUrl %}<a href="{{ p.locBSrcUrl }}" target="_blank" class="btn btn_src">src</a>{% endif %}</td></tr>
		{% endfor %}
	</table>
	
	<p>N/A: Data not available.</p>
	{% endif %}

{% endblock %}